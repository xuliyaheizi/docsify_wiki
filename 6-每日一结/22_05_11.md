# 22年5月11号日结

## 适配器模式

适配器模式属于结构型模式，主要将某个类的接口转换为客户类所期望的接口，目的是兼容性，该模式有三类：类适配器模式，对象适配器模式，接口适配器模式。

类适配器模式中适配器继承适配者，由于Java不支持多继承机制，因此该模式具有一定局限性，大部分情况下使用对象适配器模式，对象适配器模式中适配器与适配者的关系是关联。接口适配器模式是当不需要实现一个接口所提供的所有方法时，可先设计一个抽象类实现该接口，并为接口中每个方法提供一个默认实现（空方法），那么该抽象类的子类可以选择性地覆盖父类的某些方法来实现需求，它适用于不想使用一个接口中的所有方法的情况，又称为单接口适配器模式。

### 总结

适配器模式将现有接口转化为客户类所期望的接口，实现了对现有类的复用，它是一种使用频率非常高的设计模式，在软件开发中得以广泛应用，在Spring等开源框架、驱动程序设计（如JDBC中的数据库驱动程序）中也使用了适配器模式。

无论是对象适配器模式还是类适配器模式都具有如下优点：

1. 将目标类和适配者类解耦，通过引入一个适配器类来重用现有的适配者类，无须修改原有结构。
2. 增加了类的透明性和复用性，将具体的业务实现过程封装在适配者类中，对于客户端类而言是透明的，而且提高了适配者的复用性，同一个适配者类可以在多个不同的系统中复用。
3. 灵活性和扩展性都非常好，通过使用配置文件，可以很方便地更换适配器，也可以在不修改原有代码的基础上增加新的适配器类，完全符合“开闭原则”。

具体来说，类适配器模式还有如下优点：

由于适配器类是适配者类的子类，因此可以在适配器类中置换一些适配者的方法，使得适配器的灵活性更强。

对象适配器模式还有如下优点：

1. 一个对象适配器可以把多个不同的适配者适配到同一个目标；
2. 可以适配一个适配者的子类，由于适配器和适配者之间是关联关系，根据“里氏代换原则”，适配者的子类也可通过该适配器进行适配。

1. 主要缺点

类适配器模式的缺点如下：

1. 对于Java、C#等不支持多重类继承的语言，一次最多只能适配一个适配者类，不能同时适配多个适配者；
2. 适配者类不能为最终类，如在Java中不能为final类，C#中不能为sealed类；
3. 在Java、C#等语言中，类适配器模式中的目标抽象类只能为接口，不能为类，其使用有一定的局限性。

对象适配器模式的缺点如下：

与类适配器模式相比，要在适配器中置换适配者类的某些方法比较麻烦。如果一定要置换掉适配者类的一个或多个方法，可以先做一个适配者类的子类，将适配者类的方法置换掉，然后再把适配者类的子类当做真正的适配者进行适配，实现过程较为复杂。

在以下情况下可以考虑使用适配器模式：

1. 系统需要使用一些现有的类，而这些类的接口（如方法名）不符合系统的需要，甚至没有这些类的源代码。
2. 想创建一个可以重复使用的类，用于与一些彼此之间没有太大关联的一些类，包括一些可能在将来引进的类一起工作。

## 计算机网络的概念与ISO/OSI网络体系结构

开发系统互联（OSI）参考模型定义异种计算机连接标准的框架结构，共有7层

- 物理层：OSI的第一层，提供为建立、维护和拆除物理链路所需的机械、电气、功能和规程的特性；提供有关在传输介质上传输非结构的位流及物理链路故障检测指示。
- 数据链路层：负责在两个相邻节点间的线路上无差错的传送以帧为单位的数据，并进行流量控制。
- 网络层：为传输层实体提供端到端的交换网络数据传送功能、使传输层摆脱路由选择、交换方式、拥塞控制等网络传输细节；可以为传输层实体建立、维持和拆除一条或多条通信路劲；对网络传输中发生的不可恢复的差错予以报错。
- 传输层：为会话层实体提供透明、可靠的数据传输服务，保证端到端的数据完整性；选择网络层能提供的最适宜的服务；提供建立、维护和拆除传输连接的功能。
- 会话层：为彼此合作的表示层实体提供建立、维护和结束会话连接的功能；完成通信进程的逻辑名字与物理名字间的对应；提供会话关联服务。
- 表示层：为应用层进程提供解释所交换信息含义的一组服务。数据的压缩，解压缩，加密和解密等工作都由表示层负责。
- 应用层：提供OSI服务，即确定进程之间通信的性质，满足用户需要以及提供网络与用户应用软件之间的接口服务，包括事务处理程序、电子邮件和网络管理程序。

TCP/IP分层模型有应用层，传输层，网际层和网络接口层

IP-网际层协议：IP所提供的服务通常被认为是无连接的和不可靠的，主要功能包括将上层数据（如TCP、UDP数据）或同层的其他数据（ICMP数据）封装到IP数据报中，对数据进行分段，确定数据报到达其他网络中的目的地。

TCP-传输层协议：TCP采用了一种被称为重发的技术实现可靠传输，具体为，在TCP传输过程中，发送方启动一个定时器，然后将数据包发出，当接收方收到这个信息时，就给发送方一个确认信息，而如果发送方在定时器到点之前没收到这个确认信息，就重新发送这个数据包。

网络攻击手段主要有口令入侵、放置特洛伊木马、Dos攻击、端口扫描、网络监听、欺骗攻击和电子邮件攻击等。

加密技术有对称密钥密码体制和非对称密钥密码体制。