# Java基础面试题

## 1、Java和C++区别？

- java是`纯粹的面向对象语言`，所以的对象都继承自java.lang.Object，C++为了兼容C即`支持面向对象也支持面向过程`。

- Java通过`虚拟机从而实现跨平台性`，但是`C++依赖于特定的平台`。
- Java`没有指针`，它的引用可以理解为安全指针，而C++具有和C一样的指针。
- Java支持`自动垃圾回收`，而`C++需要手动回收`。
- Java不支持`多重继承`，只能通过实现多个接口来达到相同目的，而`C++支持多重继承`。
- Java不支持`操作符重载`，虽然可以对两个String对象执行加法运算，但是这是语言内置支持的操作，不属于操作符重载，而C++可以。
- Java的goto保留字，但是不可用，C++可以使用goto。

## 2、Java创建对象有几种方式？

- 使用new关键字：User user=new User();

- 使用反射方式创建对象：使用 newInstance()，但是得处理两个异常 InstantiationException、IllegalAccessException

  ```java
  User user=User.class.newInstance();
  Object object=(Object)Class.forName("java.lang.Object").newInstance()
  ```

- 使用clone方法：调用Object中的clone方法。

- 使用反序列化创建对象：调用ObjectInputStream类的readObject()方法。

  我们反序列化一个对象，JVM 会给我们创建一个单独的对象。JVM 创建对象并不会调用任何构造函

  数。一个对象实现了 Serializable 接口，就可以把对象写入到文件中，并通过读取文件来创建对

  象。

创建对象的方式关键字：new、反射、clone 拷贝、反序列化。

## 3、获取一个类对象的方式？

- 通过类对象的getClass()获取
- 通过类的静态成员表示，每个类都有隐含的静态成员 class
- 通过class类的静态方法forName()方法获取

## 4、为什么要编译成字节码？有什么性能损耗？

## 5、JIT即时编译翻译成机器码存在哪里？能不能存磁盘？为什么？

虚拟机中的字节码是由解释器（ Interpreter ）完成编译的，当虚拟机发现某个方法或代码块的运行特别频繁的时候，就会把这些代码认定为`“热点代码”`。为了提高热点代码的执行效率，在运行时，`即时编译器（JIT）`会把这些代码编译成与本地平台相关的机器码，并进行各层次的优化，然后保存到内存中。

## 6、为什么浮点数会有精度丢失？

- 由于是使用二进制进行存储的，对于一些小数，不能准确的使用二进制进行存储。一些十进制下的小数无法被精确表示成二进制小数。
- 可能无法消灭小数部分，导致无限循环下去，而又因为超过了其范围，所以会导致精度损失。

## 7、面向对象的三大特征？什么是多态？

**封装、继承、多态**

**多态**是指在继承的基础上，子类重写父类的方法。即父类同一个方法，在继承的子类中表现出不同的形式。多态成立的另一个条件是在创建子类时候必须使用父类new子类的方式。

`多态`是指程序中定义的**引用变量所指向的具体类型和通过该引用变量发出的方法调用在编译时不确定**，而是在**程序运行期间才确定**的，即一个引用变量到底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。因为在程序运行时才确定具体的类，这样，不用修改源程序代码，就可以让引用变量绑定到各种不同的类实现上，从而导致该引用调用的具体方法随之改变，即不修改程序代码就可以改变程序运行时所绑定的具体代码，让程序可以选择多个运行状态，这就是多态性。

## 8、如何判断两个类是否相等？为什么要先hashcode再equals？

- 重写hashCode()和equals()方法，先计算hash值，比较hash值是否相等。如果不相等，则直接返回结果，两个类不相等。如果相等，再比较equals()。
- 因为hash算法是二进制算法，计算式的本质是二进制，所以hash算法速度很快。如果hashCode不同则可直接存储不要equals比较。先计算hashCode大大加快了存储速率。

## 9、包装类和基本数据类型，为什么要有包装类？

- 某些方法的参数必须是对象，为了让基本数据类型的数据能作为参数，提供包装类。
- 包装类还可以提供更多的功能。
- 可以实现字符串和基本数据类型之间的转化。
- 便于对象操作

1、包装类的对象需要占用栈内存和堆内存，而基本数据类型的（局部）变量只占用栈内存；基本数据类型的变量占用空间少，更简单，更灵活，更高效。

2、作为成员变量，初始值不同。int 0；Integer null；

3、在这八个类中，除了Character和Boolean以外，其他的都是“数字型”，“数字型”都是java.lang.Number的子类

## 10、什么情况下会进行自动装箱与自动拆箱？

- 当一个方法需要一个包装类对象但作为参数传递的值是原始类型时。
- 赋值，将原始类型的值分配给其包装类的对象。
- 处理集合框架时

## 11、反射安全吗？反射漏洞是什么？

