# cloudreveæ­å»º

Cloudreve å¯ä»¥è®©æ‚¨å¿«é€Ÿæ­å»ºèµ·å…¬ç§å…¼å¤‡çš„ç½‘ç›˜ç³»ç»Ÿã€‚Cloudreve åœ¨åº•å±‚æ”¯æŒä¸åŒçš„äº‘å­˜å‚¨å¹³å°ï¼Œç”¨æˆ·åœ¨å®é™…ä½¿ç”¨æ—¶æ— é¡»å…³å¿ƒç‰©ç†å­˜å‚¨æ–¹å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ Cloudreve æ­å»ºä¸ªäººç”¨ç½‘ç›˜ã€æ–‡ä»¶åˆ†äº«ç³»ç»Ÿï¼Œäº¦æˆ–æ˜¯é’ˆå¯¹å¤§å°å›¢ä½“çš„å…¬æœ‰äº‘ç³»ç»Ÿã€‚

## ç‰¹æ€§

- â˜ï¸ æ”¯æŒæœ¬æœºã€ä»æœºã€ä¸ƒç‰›ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€åˆæ‹äº‘ã€OneDrive (åŒ…æ‹¬ä¸–çºªäº’è”ç‰ˆ) ä½œä¸ºå­˜å‚¨ç«¯
- ğŸ“¤ ä¸Šä¼ /ä¸‹è½½ æ”¯æŒå®¢æˆ·ç«¯ç›´ä¼ ï¼Œæ”¯æŒä¸‹è½½é™é€Ÿ
- ğŸ’¾ å¯å¯¹æ¥ Aria2 ç¦»çº¿ä¸‹è½½ï¼Œå¯ä½¿ç”¨å¤šä¸ªä»æœºèŠ‚ç‚¹åˆ†æ‹…ä¸‹è½½ä»»åŠ¡
- ğŸ“š åœ¨çº¿ å‹ç¼©/è§£å‹ç¼©ã€å¤šæ–‡ä»¶æ‰“åŒ…ä¸‹è½½
- ğŸ’» è¦†ç›–å…¨éƒ¨å­˜å‚¨ç­–ç•¥çš„ WebDAV åè®®æ”¯æŒ
- âš¡ æ‹–æ‹½ä¸Šä¼ ã€ç›®å½•ä¸Šä¼ ã€æµå¼ä¸Šä¼ å¤„ç†
- ğŸ—ƒï¸ æ–‡ä»¶æ‹–æ‹½ç®¡ç†
- ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å¤šç”¨æˆ·ã€ç”¨æˆ·ç»„
- ğŸ”— åˆ›å»ºæ–‡ä»¶ã€ç›®å½•çš„åˆ†äº«é“¾æ¥ï¼Œå¯è®¾å®šè‡ªåŠ¨è¿‡æœŸ
- ğŸ‘ï¸â€ğŸ—¨ï¸ è§†é¢‘ã€å›¾åƒã€éŸ³é¢‘ã€æ–‡æœ¬ã€Office æ–‡æ¡£åœ¨çº¿é¢„è§ˆ
- ğŸ¨ è‡ªå®šä¹‰é…è‰²ã€é»‘æš—æ¨¡å¼ã€PWA åº”ç”¨ã€å…¨ç«™å•é¡µåº”ç”¨
- ğŸš€ All-In-One æ‰“åŒ…ï¼Œå¼€ç®±å³ç”¨
- ğŸŒˆ ... ...

## å®‰è£…é…ç½®

**cloudreveä¸‹è½½åœ°å€ï¼š**https://github.com/cloudreve/Cloudreve/releases

**æ–‡æ¡£åœ°å€ï¼š**https://docs.cloudreve.org/

### åˆå§‹å¯åŠ¨

```shell
#è§£å‹è·å–åˆ°çš„ä¸»ç¨‹åº
tar -zxvf cloudreve_VERSION_OS_ARCH.tar.gz

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x ./cloudreve

# å¯åŠ¨ Cloudreve
./cloudreve
```

Cloudreve åœ¨é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šåˆ›å»ºåˆå§‹ç®¡ç†å‘˜è´¦å·ï¼Œè¯·æ³¨æ„ä¿ç®¡ç®¡ç†å‘˜å¯†ç ï¼Œæ­¤å¯†ç åªä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶å‡ºç°ã€‚å¦‚æœæ‚¨å¿˜è®°åˆå§‹ç®¡ç†å‘˜å¯†ç ï¼Œéœ€è¦åˆ é™¤åŒçº§ç›®å½•ä¸‹çš„`cloudreve.db`ï¼Œé‡æ–°å¯åŠ¨ä¸»ç¨‹åºä»¥åˆå§‹åŒ–æ–°çš„ç®¡ç†å‘˜è´¦æˆ·ã€‚

Cloudreve é»˜è®¤ä¼šç›‘å¬`5212`ç«¯å£ã€‚ä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®`http://æœåŠ¡å™¨IP:5212`è¿›å…¥ Cloudreveã€‚

### è¿›ç¨‹å®ˆæŠ¤

```shell
# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim /usr/lib/systemd/system/cloudreve.service
```

å°†ä¸‹æ–‡ `PATH_TO_CLOUDREVE` æ›´æ¢ä¸ºç¨‹åºæ‰€åœ¨ç›®å½•ï¼š

```shell
[Unit]
Description=Cloudreve
Documentation=https://docs.cloudreve.org
After=network.target
After=mysqld.service
Wants=network.target

[Service]
WorkingDirectory=/PATH_TO_CLOUDREVE
ExecStart=/PATH_TO_CLOUDREVE/cloudreve
Restart=on-abnormal
RestartSec=5s
KillMode=mixed

StandardOutput=null
StandardError=syslog

[Install]
WantedBy=multi-user.target
```

ç®¡ç†å‘½ä»¤ï¼š

```shell
# å¯åŠ¨æœåŠ¡
systemctl start cloudreve

# åœæ­¢æœåŠ¡
systemctl stop cloudreve

# é‡å¯æœåŠ¡
systemctl restart cloudreve

# æŸ¥çœ‹çŠ¶æ€
systemctl status cloudreve
```

### é…ç½®æ–‡ä»¶

é¦–æ¬¡å¯åŠ¨æ—¶ï¼ŒCloudreve ä¼šåœ¨åŒçº§ç›®å½•ä¸‹åˆ›å»ºåä¸º`conf.ini`çš„é…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥ä¿®æ”¹æ­¤æ–‡ä»¶è¿›è¡Œä¸€äº›å‚æ•°çš„é…ç½®ï¼Œä¿å­˜åéœ€è¦é‡æ–°å¯åŠ¨ Cloudreve ç”Ÿæ•ˆã€‚

ä½ ä¹Ÿå¯ä»¥åœ¨å¯åŠ¨æ—¶åŠ å…¥`-c`å‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼š

```shell
./cloudreve -c /path/to/conf.ini
```

ä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹å¦‚ä¸‹ï¼š

```shell
[System]
; è¿è¡Œæ¨¡å¼
Mode = master
; ç›‘å¬ç«¯å£
Listen = :5212
; æ˜¯å¦å¼€å¯ Debug
Debug = false
; Session å¯†é’¥, ä¸€èˆ¬åœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆ
SessionSecret = 23333
; Hash åŠ ç›, ä¸€èˆ¬åœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆ
HashIDSalt = something really hard to guss

; SSL ç›¸å…³
[SSL]
; SSL ç›‘å¬ç«¯å£
Listen = :443
; è¯ä¹¦è·¯å¾„
CertPath = C:\Users\i\Documents\fullchain.pem
; ç§é’¥è·¯å¾„
KeyPath = C:\Users\i\Documents\privkey.pem

; å¯ç”¨ Unix Socket ç›‘å¬
[UnixSocket]
Listen = /run/cloudreve/cloudreve.sock

; æ•°æ®åº“ç›¸å…³ï¼Œå¦‚æœä½ åªæƒ³ä½¿ç”¨å†…ç½®çš„ SQLite æ•°æ®åº“ï¼Œè¿™ä¸€éƒ¨åˆ†ç›´æ¥åˆ å»å³å¯
[Database]
; æ•°æ®åº“ç±»å‹ï¼Œç›®å‰æ”¯æŒ sqlite/mysql/mssql/postgres
Type = mysql
; MySQL ç«¯å£
Port = 3306
; ç”¨æˆ·å
User = root
; å¯†ç 
Password = root
; æ•°æ®åº“åœ°å€
Host = 127.0.0.1
; æ•°æ®åº“åç§°
Name = v3
; æ•°æ®è¡¨å‰ç¼€
TablePrefix = cd_
; å­—ç¬¦é›†
Charset = utf8mb4
; SQLite æ•°æ®åº“æ–‡ä»¶è·¯å¾„
DBFile = cloudreve.db

; ä»æœºæ¨¡å¼ä¸‹çš„é…ç½®
[Slave]
; é€šä¿¡å¯†é’¥
Secret = 1234567891234567123456789123456712345678912345671234567891234567
; å›è°ƒè¯·æ±‚è¶…æ—¶æ—¶é—´ (s)
CallbackTimeout = 20
; ç­¾åæœ‰æ•ˆæœŸ
SignatureTTL = 60

; è·¨åŸŸé…ç½®
[CORS]
AllowOrigins = *
AllowMethods = OPTIONS,GET,POST
AllowHeaders = *
AllowCredentials = false

; Redis ç›¸å…³
[Redis]
Server = 127.0.0.1:6379
Password =
DB = 0

; ä»æœºé…ç½®è¦†ç›–
[OptionOverwrite]
; å¯ç›´æ¥ä½¿ç”¨ `è®¾ç½®åç§° = å€¼` çš„æ ¼å¼è¦†ç›–
max_worker_num = 50
```

