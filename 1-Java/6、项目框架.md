# 项目框架

## SSM

### ssm是什么？

> SSM，是**spring mvc + spring + mybatis** 三个框架的简写。
> 说到SSM，就得提到三层架构了。
> 我们的开发架构一般都是基于两种形式，一种是C/S架构，也就是客户端/服务器，另一种是B/S架构，也就是浏览器服务器。在JavaEE开发中，几乎全都是基于B/S架构的开发。那么在B/S架构中，系统标准的三层架构包括：表现层、业务层、持久层。三层架构在我们的实际开发中使用的非常多。
> 三层架构中，每一层各司其职，接下来我们就说说每层都负责哪些方面： 

**表现层：**

- 也就是我们常说的web层。它负责接收客户端请求，向客户端响应结果，通常客户端使用http协议请求web层，web需要接收http请求，完成http响应。
- 表现层包括展示层和控制层：控制层负责接收请求，展示层负责结果的展示。
- 表现层依赖业务层，接收到客户端请求一般会调用业务层进行业务处理，并将处理结果响应给客户端。
- 表现层的设计一般都使用MVC模型。（MVC是表现层的设计模型，和其他层没有关系）

**业务层：**

- 也就是我们常说的service层。它负责业务逻辑处理，和我们开发项目的需求息息相关。web层依赖业务层，但是业务层不依赖web层。
- 业务层在业务处理时可能会依赖持久层，如果要对数据持久化需要保证事务一致性。（也就是我们说的，事务应该放到业务层来控制）

**持久层：**

- 也就是我们是常说的dao层。负责数据持久化，包括数据层即数据库和数据访问层，数据库是对数据进行持久化的载体，数据访问层是业务层和持久层交互的接口，业务层需要通过数据访问层将数据持久化到数据库中。通俗的讲，持久层就是和数据库交互，对数据库表进行增删改查的。

<img src="https://knowledgeimagebed.oss-cn-hangzhou.aliyuncs.com/img/image-20220524200327598.png" width="50%"/>

## SpringMVC

  SpringMVC是一种基于Java的实现MVC设计模型的请求驱动类型的轻量级Web框架，属于SpringFrameWork的后续产品，已经融合在Spring Web Flow里面。Spring框架提供了构建Web应用程序的全功能MVC模块。使用Spring可插入的MVC架构，从而在使用Spring进行WEB开发时，可以选择使用Spring的Spring MVC框架或集成其他MVC开发框架
> SpringMVC已经成为目前最主流的 MVC 框架之一，并且随着Spring3.0的发布，全面超越 Struts2，成为最优秀的 MVC 框架。 
> 
> 它通过一套注解，让一个简单的Java类成为处理请求的控制器，而无须实现任何接口。==同时它还支持RESTful编程风格的请求==。

## MVC模型

  MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，是一种用于设计创建 Web 应用程序表现层的模式。MVC中每个部分各司其职：
Model（模型）
> 通常指的就是我们的数据模型。作用一般情况下用于封装数据

View（视图）
> 通常指的就是我们的jsp或者html。作用一般就是展示数据
> 通常视图是依据模型数据创建的

Controller（控制器）
> 是应用程序中处理用户交互的部分。作用一般就是处理程序逻辑的
> 它先对于前两个不是很好理解，举例
> 我们要保存一个用户的信息，该用户信息中包含了姓名，性别，年龄等等。 
> 这时候表单输入要求年龄必须是1~100之间的整数。姓名和性别不能为空。并且把数据填充到模型之中。 
> 此时除了js的校验之外，服务器端也应该有数据准确性的校验，那么校验就是控制器的该做的。 
> 当校验失败后，由控制器负责把错误页面展示给使用者。 
> 如果校验成功，也是控制器负责把数据填充到模型，并且调用业务层实现完整的业务需求。 

### SpringMVC在三层架构的位置
<img src="https://knowledgeimagebed.oss-cn-hangzhou.aliyuncs.com/img/1647692755051-a0963caf-9b15-466e-b28e-e1ac854e896d.png" width="50%"/>

### SpringMVC的优势

- 清晰的角色划分
> ==前端控制器（DispatcherServlet）== 
> 
> ==请求到处理器映射器（HandlerMapping）== 
> 
> ==处理器适配器（HandlerAdapter）== 
> 
> ==视图解析器（ViewResolver）== 
> 
> ==处理器或页面控制器（Controller）== 
> 
> 验证器（ Validator） 
> 
> 命令对象（Command 请求参数绑定到的对象就叫命令对象） 
> 
> 表单对象（Form Object 提供给表单展示和提交到的对象就叫表单对象）。 

- 分工明确，而且扩展点相当灵活，可以很容易扩展，虽然几乎不需要
- 由于命令对象就是一个POJO，无需继承框架特定API，可以使用命令对象直接作为业务对象
- 和Spring其他框架无缝集成，是其他Web框架所不具备的
- 可适配，通过HandlerAdapter可以支持任意的类作为处理器
- 可定制性，HandlerMapping、ViewResolver等能够非常简单的定制
- 功能强大的数据验证、格式化、绑定机制
- 利用Spring提供的Mock对象能够非常简单的进行Web层单元测试
- 本地化、主体的解析的支持，是我们更容易进行国际化和主体的切换
- 强大的JSP标签库，使JSP编写更容易
### 常用注解

1. @RequestParam注解：请求参数，用于指定参数名称
1. @RequestBody注解：请求体，用于将json数据封装成java类
1. @PathVariable注解：用于获取restful风格的请求参数
1. @RequestHeader注解：获取请求头
1. @CookieValue注解：获取Cookie的值
1. @ModelAttribute注解：用于在跳转请求方法之前，封装实体
1. @SessionAttributes注解：将请求数据存放到Sessioin
